<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MainCpu Software Documentation: configFile Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="Stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MainCpu Software Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classconfig_file-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">configFile Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This class handles the configuration file management.  
 <a href="classconfig_file.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="configfile_8h_source.html">configfile.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for configFile:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classconfig_file.png" usemap="#configFile_map" alt=""/>
  <map id="configFile_map" name="configFile_map">
<area href="classsystem_ini.html" alt="systemIni" shape="rect" coords="0,56,68,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconfig_file_1_1file_descriptor_t.html">fileDescriptorT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration file descriptor.  <a href="structconfig_file_1_1file_descriptor_t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconfig_file_1_1param_item_content_t.html">paramItemContentT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure of the configuratioon file data content.  <a href="structconfig_file_1_1param_item_content_t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconfig_file_1_1param_item_t.html">paramItemT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prameter Item content structure.  <a href="structconfig_file_1_1param_item_t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structconfig_file_1_1param_value_t.html">paramValueT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><blockquote class="doxtable">
<p >&zwj;Parameter value definition structure </p>
</blockquote>
 <a href="structconfig_file_1_1param_value_t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a90e3d50efe58db356fca6f85a455f25b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconfig_file.html#a90e3d50efe58db356fca6f85a455f25b">configFile</a> (const <a class="el" href="structconfig_file_1_1file_descriptor_t.html">fileDescriptorT</a> descriptor)</td></tr>
<tr class="memdesc:a90e3d50efe58db356fca6f85a455f25b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classconfig_file.html" title="This class handles the configuration file management.">configFile</a> constructo class  <a href="classconfig_file.html#a90e3d50efe58db356fca6f85a455f25b">More...</a><br /></td></tr>
<tr class="separator:a90e3d50efe58db356fca6f85a455f25b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a106f596196e095c631ec707cbc4b5ae6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconfig_file.html#a106f596196e095c631ec707cbc4b5ae6">loadFile</a> (void)</td></tr>
<tr class="memdesc:a106f596196e095c631ec707cbc4b5ae6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the configuration file in memory.  <a href="classconfig_file.html#a106f596196e095c631ec707cbc4b5ae6">More...</a><br /></td></tr>
<tr class="separator:a106f596196e095c631ec707cbc4b5ae6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21399c14438a46004e2a562c6c9fb904"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconfig_file.html#a21399c14438a46004e2a562c6c9fb904">storeFile</a> (void)</td></tr>
<tr class="memdesc:a21399c14438a46004e2a562c6c9fb904"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the memory content of the configuration file into the file.  <a href="classconfig_file.html#a21399c14438a46004e2a562c6c9fb904">More...</a><br /></td></tr>
<tr class="separator:a21399c14438a46004e2a562c6c9fb904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ec04586801f91648af9baea6743985f"><td class="memItemLeft" align="right" valign="top"><a id="a8ec04586801f91648af9baea6743985f" name="a8ec04586801f91648af9baea6743985f"></a>
_inline void&#160;</td><td class="memItemRight" valign="bottom"><b>restoreContent</b> (void)</td></tr>
<tr class="memdesc:a8ec04586801f91648af9baea6743985f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restores the memory content to the one just after the file loading. <br /></td></tr>
<tr class="separator:a8ec04586801f91648af9baea6743985f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6b5eb2139db47554077559a62511676"><td class="memItemLeft" align="right" valign="top"><a id="aa6b5eb2139db47554077559a62511676" name="aa6b5eb2139db47554077559a62511676"></a>
_inline void&#160;</td><td class="memItemRight" valign="bottom"><b>setDefaultFile</b> (void)</td></tr>
<tr class="memdesc:aa6b5eb2139db47554077559a62511676"><td class="mdescLeft">&#160;</td><td class="mdescRight">Override thecurrent file with the default values. <br /></td></tr>
<tr class="separator:aa6b5eb2139db47554077559a62511676"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ab9fa331d71af6cbc2f122de84db19c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structconfig_file_1_1param_value_t.html">paramValueT</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconfig_file.html#a3ab9fa331d71af6cbc2f122de84db19c">getParam</a> (const char *tag)</td></tr>
<tr class="memdesc:a3ab9fa331d71af6cbc2f122de84db19c"><td class="mdescLeft">&#160;</td><td class="mdescRight">getParam Gets the value list of a given parameter from the memory content.  <a href="classconfig_file.html#a3ab9fa331d71af6cbc2f122de84db19c">More...</a><br /></td></tr>
<tr class="separator:a3ab9fa331d71af6cbc2f122de84db19c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00643281139e93ee1074c4db0ef1db8e"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a00643281139e93ee1074c4db0ef1db8e"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classconfig_file.html#a00643281139e93ee1074c4db0ef1db8e">getParam</a> (const char *tag, int index)</td></tr>
<tr class="memdesc:a00643281139e93ee1074c4db0ef1db8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">getParam  <a href="classconfig_file.html#a00643281139e93ee1074c4db0ef1db8e">More...</a><br /></td></tr>
<tr class="separator:a00643281139e93ee1074c4db0ef1db8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61c1150ba38bce70014c8cfc22774bdc"><td class="memItemLeft" align="right" valign="top"><a id="a61c1150ba38bce70014c8cfc22774bdc" name="a61c1150ba38bce70014c8cfc22774bdc"></a>
_inline bool&#160;</td><td class="memItemRight" valign="bottom"><b>isAccess</b> (void)</td></tr>
<tr class="memdesc:a61c1150ba38bce70014c8cfc22774bdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the last data access is valid. <br /></td></tr>
<tr class="separator:a61c1150ba38bce70014c8cfc22774bdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a916340f56d6e62f65bb26ecafa97f0b1"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a916340f56d6e62f65bb26ecafa97f0b1"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classconfig_file.html#a916340f56d6e62f65bb26ecafa97f0b1">setParam</a> (const char *tag, int index, T val)</td></tr>
<tr class="memdesc:a916340f56d6e62f65bb26ecafa97f0b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">setParam This function set the content of an item of the value list of a given parameter.  <a href="classconfig_file.html#a916340f56d6e62f65bb26ecafa97f0b1">More...</a><br /></td></tr>
<tr class="separator:a916340f56d6e62f65bb26ecafa97f0b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67f231da90f7f7990bcb089f509b5b80"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconfig_file.html#a67f231da90f7f7990bcb089f509b5b80">revisionChangeCallback</a> (int filerev, int rev)</td></tr>
<tr class="memdesc:a67f231da90f7f7990bcb089f509b5b80"><td class="mdescLeft">&#160;</td><td class="mdescRight">revisionChangeCallback This callback is called whenever a file config results of different revision than expected.  <a href="classconfig_file.html#a67f231da90f7f7990bcb089f509b5b80">More...</a><br /></td></tr>
<tr class="separator:a67f231da90f7f7990bcb089f509b5b80"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This class handles the configuration file management. </p>
<h1><a class="anchor" id="autotoc_md30"></a>
ABSTRACT</h1>
<p >The configuration file is a special file with a proper format: a string based file with TAGS and a variable set of parameters.</p>
<p >The basic characteristics are:</p>
<ul>
<li>A Readable Text file format;</li>
<li>A robust data structure and access data interface, preventing data corruption;</li>
<li>Comment strings inside the file allow the readability;</li>
<li>Etherogeneous data content: all data are in string format convertible to any kind of data types.</li>
<li>File revision management.</li>
</ul>
<h1><a class="anchor" id="autotoc_md31"></a>
FILE DATA FORMAT</h1>
<p >The file is composed of several string lines, each one handling a given parameter with a list of values.</p>
<p >Each parameter is defined by a static string as a TAG identifier. The following string show the data format: </p><pre class="fragment">  # Comment line ......
  &lt;TAG,PARAM1, PARAM2, PARAM3,...., PARAM-N&gt;

  where:
  - # is a comment initiator: every character following the '#' is interpreted as a comment line.
  - TAG: is a unique string identifier. This string shall be used in the code in order to point to a parameter.
  - PARAM1, .., PARAM-N: are strings separated by commas, representing the parameter content,
    splitted in a list of etherogeneus values in string format.</pre><p >A special TAG = "REVISION" is reserved to store the file revision code in the file. This tag is used to determines if the configuration file is at the correct revision when the application accesses the file. A virtual <a class="el" href="classconfig_file.html#a67f231da90f7f7990bcb089f509b5b80" title="revisionChangeCallback This callback is called whenever a file config results of different revision t...">configFile::revisionChangeCallback()</a> function is called in case a wrong revision should be detected.</p>
<h1><a class="anchor" id="autotoc_md32"></a>
USAGE</h1>
<p >The application shall subclass this class in order to create a specific configuration file.</p>
<p >In the constructor of the subclass the application shall pass a static structure defining the <a class="el" href="structconfig_file_1_1file_descriptor_t.html" title="Configuration file descriptor.">configFile::fileDescriptorT</a> of the configuration file. The fileDescriptor content defines:</p><ul>
<li>The list of available parameter TAGS;</li>
<li>The default content of every parameter;</li>
<li>The description string assigned to every parameter;</li>
</ul>
<p >This is a tipical valid declaration: </p><pre class="fragment">    class yourConfigClass: public configFile
    {
        public:


        #define REVISION     1  // This is the revision code
        #define CONFIG_FILENAME     "C:\\Users\\.....\\your_config_file" // This is the configuration file name and path

        // This section defines labels helping the param identification along the application
        #define NAME_TAG_1   "NAME_TAG_1"
        #define NAME_TAG_2   "NAME_TAG_2"
        ....
        #define NAME_TAG_K   "NAME_TAG_K"

        // your class constructor
        yourConfigClass():configFile( (const configFile::fileDescriptorT)
            {
                CONFIG_FILENAME, REVISION,
                {{
                    { NAME_TAG_1,     {{ VAL_1_1, ... , VAL_1_N }},  "Description string tag 1"},
                    { NAME_TAG_2,     {{ VAL_2_1, ... , VAL_2_O }},  "Description string tag 2"},
                    { NAME_TAG_K,     {{ VAL_K_1, ... , VAL_K_P }},  "Description string tag K"},
                }}
            })
        {
            // Your constructor code ...
            this-&gt;loadFile();
        };


    }; // End class definition
</pre><p> Override the <a class="el" href="classconfig_file.html#a67f231da90f7f7990bcb089f509b5b80" title="revisionChangeCallback This callback is called whenever a file config results of different revision t...">configFile::revisionChangeCallback()</a> function to customize the<br  />
 default change revision callback </p><pre class="fragment">     bool yourConfigClass::changeRevisionCallback(int file_rev, int config_rev){

     // your code here .....

     return true; // if you want to store the file at the end
     return false; // to prevent the file storing
    }</pre><p >As the previous code example shows, the class declaration needs a "descriptor" structure, <a class="el" href="structconfig_file_1_1file_descriptor_t.html" title="Configuration file descriptor.">configFile::fileDescriptorT</a>, that uniquelly defines the content of the configuration file.</p>
<p >When the configuration file will be instantiated for the first time, a configuration file called "your_config_file" will be created with the default values taken from the configFile::fileDescriptor.</p>
<p >Further instantiation of the class will not modifies the content of the file.</p>
<p >After instantiation, the memory content will be filled with the default values.<br  />
 In order to update the memory content with the current file content, <br  />
 the application shall explicitely call the <a class="el" href="classconfig_file.html#a106f596196e095c631ec707cbc4b5ae6" title="Load the configuration file in memory.">configFile::loadFile()</a> method.</p>
<p >In case the file content should have some wrong formatted parameter line, or some of the tag should not be present,<br  />
 the wrong formatted lines will be removed from the file and the missing parameters<br  />
 will be replaced with the default values. The file then will be rigenerated with the corrected format.</p>
<p >To access the configuration data content, the application shall use the following methods: </p><pre class="fragment"> *
   // class instantiation in some part of the code
   yourConfigClass config;

   // Optionally the application shall load the content in memory
   // (if this as not been done in the yourConfigClass constructor yet)
   config.loadFile();

   // Access to a whole value list of a parameter
   paramItemT param = getParam("NAME_TAG_1");
     // param.tag: is the tag of the parameter;
     // param.values.at(i): is the i-value of the value list in string format

   // Access to the first element of the value's list of a parameter
   int val = getParam&lt;int&gt;("NAME_TAG_1", 0);


   // Setting the n-value value of a given param:
   setParam&lt;int&gt;("NAME_TAG_1",index); // For integers
   setParam&lt;float&gt;("NAME_TAG_1",index); // For floats
   .....
   setParam&lt;QString&gt;("NAME_TAG_1",index); // For strings</pre><p >In all of the previous access methods, the application shall<br  />
 check the valid data access in order to proceed. See <a class="el" href="classconfig_file.html#a61c1150ba38bce70014c8cfc22774bdc" title="Check if the last data access is valid.">configFile::isAccess()</a></p>
<p >The class takes a copy of the loaded file. After content modifications with the <a class="el" href="classconfig_file.html#a916340f56d6e62f65bb26ecafa97f0b1" title="setParam This function set the content of an item of the value list of a given parameter.">setParam()</a> method, the application can restore the original content using the public method <a class="el" href="classconfig_file.html#a8ec04586801f91648af9baea6743985f" title="Restores the memory content to the one just after the file loading.">configFile::restoreContent()</a>. This methode doesn't change the file in the file system, but restore te content in memory. In order to restore the file the application should call both methods:</p><ul>
<li><a class="el" href="classconfig_file.html#a8ec04586801f91648af9baea6743985f" title="Restores the memory content to the one just after the file loading.">configFile::restoreContent()</a>;</li>
<li><a class="el" href="classconfig_file.html#a21399c14438a46004e2a562c6c9fb904" title="Stores the memory content of the configuration file into the file.">configFile::storeFile()</a>;</li>
</ul>
<p >The application can load the file, store the file, reset to default value the file with the following public methods:</p><ul>
<li><a class="el" href="classconfig_file.html#a106f596196e095c631ec707cbc4b5ae6" title="Load the configuration file in memory.">configFile::loadFile()</a>;</li>
<li><a class="el" href="classconfig_file.html#a21399c14438a46004e2a562c6c9fb904" title="Stores the memory content of the configuration file into the file.">configFile::storeFile()</a>;</li>
<li><a class="el" href="classconfig_file.html#aa6b5eb2139db47554077559a62511676" title="Override thecurrent file with the default values.">configFile::setDefaultFile()</a>; </li>
</ul>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a90e3d50efe58db356fca6f85a455f25b" name="a90e3d50efe58db356fca6f85a455f25b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90e3d50efe58db356fca6f85a455f25b">&#9670;&nbsp;</a></span>configFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">configFile::configFile </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structconfig_file_1_1file_descriptor_t.html">fileDescriptorT</a>&#160;</td>
          <td class="paramname"><em>descriptor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classconfig_file.html" title="This class handles the configuration file management.">configFile</a> constructo class </p>
<p >Instantiating this class automatically generates a file with the parameter structure defined into the descriptor field.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">descriptor</td><td>This is the descriptor structure of the configuration file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3ab9fa331d71af6cbc2f122de84db19c" name="a3ab9fa331d71af6cbc2f122de84db19c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ab9fa331d71af6cbc2f122de84db19c">&#9670;&nbsp;</a></span>getParam() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structconfig_file_1_1param_value_t.html">paramValueT</a> configFile::getParam </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>getParam Gets the value list of a given parameter from the memory content. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tag</td><td>This is the tag name of the parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structconfig_file_1_1param_value_t.html" title="‍Parameter value definition structure">paramValueT</a> value list of the tagged parameter. </dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>The application shall check the <a class="el" href="classconfig_file.html#a61c1150ba38bce70014c8cfc22774bdc" title="Check if the last data access is valid.">configFile::isAccess()</a> to check the correctness of the data access. </dd></dl>

</div>
</div>
<a id="a00643281139e93ee1074c4db0ef1db8e" name="a00643281139e93ee1074c4db0ef1db8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00643281139e93ee1074c4db0ef1db8e">&#9670;&nbsp;</a></span>getParam() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T configFile::getParam </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>getParam </p>
<p >This function returns the i-value item of the target parameter. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tag</td><td>Tag name of the parameter; </td></tr>
    <tr><td class="paramname">index</td><td>index of the parameter in the list</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>T type custed data content of the i element of value list of a parameter; </dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>The application shall check the <a class="el" href="classconfig_file.html#a61c1150ba38bce70014c8cfc22774bdc" title="Check if the last data access is valid.">configFile::isAccess()</a> to check the correctness of the data access. </dd></dl>

</div>
</div>
<a id="a106f596196e095c631ec707cbc4b5ae6" name="a106f596196e095c631ec707cbc4b5ae6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a106f596196e095c631ec707cbc4b5ae6">&#9670;&nbsp;</a></span>loadFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void configFile::loadFile </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the configuration file in memory. </p>
<p ><a class="el" href="classconfig_file.html#a106f596196e095c631ec707cbc4b5ae6" title="Load the configuration file in memory.">configFile::loadFile</a></p>
<p >Loads in memory the content of the configuration file.</p>
<p >The Load function reads the revision file TAG (if present) and compare it with the fileDescriptor. If the file revision shouldn't match with the expected then the <a class="el" href="classconfig_file.html#a67f231da90f7f7990bcb089f509b5b80" title="revisionChangeCallback This callback is called whenever a file config results of different revision t...">configFile::revisionChangeCallback()</a> virtual function is then called.</p>
<p >The load function presets the memory content with the defaults values of the fileDescriptor. In this way every missing parameter is substituted with its default value. In this case the file is then stored to guarantee a correctfile format, based on th fileDescriptor.</p>
<p >Either In the case of wrong format or missing parameter, the entire file is stored in memory. </p>

</div>
</div>
<a id="a67f231da90f7f7990bcb089f509b5b80" name="a67f231da90f7f7990bcb089f509b5b80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67f231da90f7f7990bcb089f509b5b80">&#9670;&nbsp;</a></span>revisionChangeCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool configFile::revisionChangeCallback </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>filerev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>revisionChangeCallback This callback is called whenever a file config results of different revision than expected. </p>
<p >Reimplement this function in order to handle the differences </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filerev</td><td>The file revision </td></tr>
    <tr><td class="paramname">rev</td><td>The expected revision </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return true from this callback to allow the class to store the file with the updated content. </dd></dl>

</div>
</div>
<a id="a916340f56d6e62f65bb26ecafa97f0b1" name="a916340f56d6e62f65bb26ecafa97f0b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a916340f56d6e62f65bb26ecafa97f0b1">&#9670;&nbsp;</a></span>setParam()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void configFile::setParam </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>setParam This function set the content of an item of the value list of a given parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tag</td><td>This is the parameter name </td></tr>
    <tr><td class="paramname">val</td><td>This is the value of an arbitrary type. </td></tr>
    <tr><td class="paramname">index</td><td>this is the index of the value list of the parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>The function shall be called declaring the data Type in the function template: setPar&lt;Type&gt;(..)</dd></dl>
<p>The application shall check the <a class="el" href="classconfig_file.html#a61c1150ba38bce70014c8cfc22774bdc" title="Check if the last data access is valid.">configFile::isAccess()</a> to check the correctness of the data access. </p>

</div>
</div>
<a id="a21399c14438a46004e2a562c6c9fb904" name="a21399c14438a46004e2a562c6c9fb904"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21399c14438a46004e2a562c6c9fb904">&#9670;&nbsp;</a></span>storeFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void configFile::storeFile </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores the memory content of the configuration file into the file. </p>
<p ><a class="el" href="classconfig_file.html#a21399c14438a46004e2a562c6c9fb904" title="Stores the memory content of the configuration file into the file.">configFile::storeFile</a> This function stores the memory content of the configuration file.</p>
<p >The file is renewed preserving the fileDescriptor structure. The revision tag is wrote at the top of the file. At the end, the backup content is updated with the current file content. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/Users/marco/Documents/Data/Progetti-GIT/SW/PROGETTO_MAIN_CPU_Z190/MAIN_CPU/APPLICATION/SOURCE/LIB/<a class="el" href="configfile_8h_source.html">configfile.h</a></li>
<li>C:/Users/marco/Documents/Data/Progetti-GIT/SW/PROGETTO_MAIN_CPU_Z190/MAIN_CPU/APPLICATION/SOURCE/LIB/configfile.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
