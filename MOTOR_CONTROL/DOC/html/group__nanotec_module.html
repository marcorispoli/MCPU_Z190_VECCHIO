<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gantry Motor Control Software Documentation: Nanotec PD4 Device Communication Module.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Gantry Motor Control Software Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Nanotec PD4 Device Communication Module.<div class="ingroups"><a class="el" href="group__can_open_module.html">CanOpen Protocol implementation.</a></div></div></div>
</div><!--header-->
<div class="contents">
<p >This Module implements the communication protocol with the PD4 Nanotec Motor Device.</p>
<h1><a class="anchor" id="autotoc_md9"></a>
MODULE OVERVIEW</h1>
<p >This module connects a PD4 Nanotec based motor device handling all the CANOpen based feature.</p>
<p >The module has been developed to be subclassed by a Device specific implementation class.</p>
<p >The module allows to:</p><ul>
<li>Configure the whole device internal registers;</li>
<li>Handle the Fault conditions;</li>
<li>Activate a positioning procedure;</li>
<li>Activate the zero setting procedure;</li>
<li>Upload an optional nanoj program;</li>
<li>Activate a nanoj program;</li>
<li>Handle safety inputs;</li>
</ul>
<h1><a class="anchor" id="autotoc_md10"></a>
DEVICE CONFIGURATION</h1>
<p >The module handles a set of configuration Register Vectors in order to customize the motor behaviour.</p>
<p >The Register Vectors are:</p><ul>
<li><a class="el" href="classpd4_nanotec.html#a6c46d929117c50f6f79e940006f348bc">pd4Nanotec::configVector</a>: this is a register vector that is uploaded at the startup (if necessary) and stored into the device;</li>
<li><a class="el" href="classpd4_nanotec.html#a7832cf5c7888846376ecd6a451e35138">pd4Nanotec::runtimeVector</a>: this is a register vector that is always uploaded at the startup;</li>
<li><a class="el" href="classpd4_nanotec.html#a7854210da300c57fb54e8c5d6f649bce">pd4Nanotec::zeroSettingVector</a>: this is a register vector that is uploaded at the beginning of a zero setting procedure;</li>
<li><a class="el" href="classpd4_nanotec.html#aef57542b6e8e3bd49279f217c540c650">pd4Nanotec::positionSettingVector</a>: this is a register vector that is uploaded at the beginning of a positioning procedure;</li>
</ul>
<h2><a class="anchor" id="autotoc_md11"></a>
REGISTER VECTOR DESCRIPTION</h2>
<p >The Register Vectors are actually Arrays of items of type <a class="el" href="structpd4_nanotec_1_1___o_d___init_vector.html">pd4Nanotec::_OD_InitVector</a>.<br  />
A valid Register Vector shall mandatory termines with the END_ODVECTOR macro.</p>
<pre class="fragment"> NOTE: In case the END_ODVECTOR should be omitted, the program may crash
 due to a possible infinite loops.
</pre><h2><a class="anchor" id="autotoc_md12"></a>
CONFIGURATION REGISTER VECTOR DESCRIPTION</h2>
<p >This Register Vector should be a const vector of Motor registers that<br  />
needs to be uploaded once and stored into the Motor Device.<br  />
 The Module Uploads and Stores the registers soon after the start-up<br  />
if the Module detects a different checksum from the Device list and the <br  />
coded list. In case the checksum should match, the register vector will not be<br  />
uploaded, saving startup time and can network occupancy.<br  />
 </p>
<h2><a class="anchor" id="autotoc_md13"></a>
RUNTIME REGISTER VECTOR DESCRIPTION</h2>
<p >This register vector is a list of device register that will be always upload <br  />
after every startup.</p>
<pre class="fragment"> NOTE: although this is an optional feature, however there is some internal register\n
 that cannot be stored for an unknown reason, not declared by Nanotec. Those registers\n
 consequently needs to be refreshed after the system startup.

 NOTE: the known register that refuses to be stored are:
 - OD_3250_02
</pre><p> This Register vector can be declared as a const vector because <br  />
it will not be changed at runtime.<br  />
 </p>
<h2><a class="anchor" id="autotoc_md14"></a>
ZERO SETTING REGISTER VECTOR</h2>
<p >This register vector is a list of register that characterize the <br  />
zero setting behavior. Those register will be uploaded at the beginning <br  />
of the zero setting procedure.<br  />
 This Register vector can be declared as a const vector because <br  />
it will not be changed at runtime.<br  />
 </p>
<h2><a class="anchor" id="autotoc_md15"></a>
POSITIONING REGISTER VECTOR</h2>
<p >This register vector is a list of register that characterize the <br  />
positioning setting behavior. Those register will be uploaded at the beginning <br  />
of the Positioning procedure.<br  />
 This Register vector shall be declared in RAM because <br  />
can not be changed at runtime.<br  />
 The Positioning Register shall mandatory contain the following registers:</p><ul>
<li>OD_607A_00: define the target position;</li>
<li>OD_6081_00: define the target speed;</li>
<li>OD_6083_00: define the Acceleration;</li>
<li>OD_6084_00: define the Deceleration;</li>
</ul>
<p >The Register Vector can optionally contain other registers. </p>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
